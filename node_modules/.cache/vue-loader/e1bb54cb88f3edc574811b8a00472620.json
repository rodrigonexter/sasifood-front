{"remainingRequest":"/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rodrigo/evolution/usefood/src/pages/home2/Home2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rodrigo/evolution/usefood/src/pages/home2/Home2.vue","mtime":1635511786205},{"path":"/home/rodrigo/evolution/usefood/node_modules/cache-loader/dist/cjs.js","mtime":1635006695449},{"path":"/home/rodrigo/evolution/usefood/node_modules/babel-loader/lib/index.js","mtime":1635006695421},{"path":"/home/rodrigo/evolution/usefood/node_modules/cache-loader/dist/cjs.js","mtime":1635006695449},{"path":"/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/index.js","mtime":1635006696213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJkUHJvZHVjdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL2hvbWUyL0NhcmRQcm9kdWN0LnZ1ZSI7CmltcG9ydCB7CiAgcmVhZFByb2R1Y3RzLAogIGZpbmRQcm9kdWN0c0J5TmFtZSwKICByZWFkQ2F0ZWdvcmllcywKICBmaWx0ZXJQcm9kdWN0c0J5Q2F0ZWdvcmllLAogIGRlbGV0ZVByb2R1Y3QsCn0gZnJvbSAiLi4vLi4vc2VydmljZXMvYXBpIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaG9tZSIsCgogIGNvbXBvbmVudHM6IHsKICAgIC8qICAgRW1wdHksICovCiAgICBDYXJkUHJvZHVjdCwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3JkZXJPcHRpb25zOiBbIk1haW9yIHByZcOnbyIsICJNZW5vciBwcmXDp28iXSwKICAgICAgY2F0ZWdvcmllczogW10sCiAgICAgIHByb2R1Y3RzOiBbXSwKICAgICAga2V5d29yZDogIiIsCiAgICAgIHNlbGVjdE9yZGVyOiAiTWVub3IgcHJlw6dvIiwKICAgICAgcHJvZHVjdElkOiAiIiwKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0UHJvZHVjdHMoKSB7CiAgICAgIHJlYWRQcm9kdWN0cygpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMucHJvZHVjdHMgPSByZXMuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb2R1Y3RzKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldFByb2R1Y3RzU2VhcmNoKCkgewogICAgICBmaW5kUHJvZHVjdHNCeU5hbWUodGhpcy5rZXl3b3JkKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnByb2R1Y3RzID0gcmVzLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5wcm9kdWN0cyk7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRDYXRlZ29yaWVzKCkgewogICAgICByZWFkQ2F0ZWdvcmllcygpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0UHJvZHVjdHNGcm9tRmlsdGVyKGF1eCkgewogICAgICBmaWx0ZXJQcm9kdWN0c0J5Q2F0ZWdvcmllKGF1eCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5wcm9kdWN0cyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgb3JkZXJQcm9kdWN0cygpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0T3JkZXIgPT09ICJNZW5vciBwcmXDp28iKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0cy5zb3J0KChhLCBiKSA9PiBhLnByaWNlIC0gYi5wcmljZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9kdWN0cy5zb3J0KChhLCBiKSA9PiBiLnByaWNlIC0gYS5wcmljZSk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvZHVjdHMpOwogICAgfSwKICAgIHJlbW92ZVByb2R1Y3RCeUlkKGlkKSB7CiAgICAgIGNvbnNvbGUubG9nKCJmdW7Dp2FvIGNoYW1hZGEiKTsKICAgICAgZGVsZXRlUHJvZHVjdChpZCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBjb25zb2xlLmxvZygiQ2hlZ291IGFxdWkiKTsKICAgICAgICB0aGlzLmdldFByb2R1Y3RzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5EaWFsb2coKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UHJvZHVjdHMoKTsKICAgIHRoaXMuZ2V0Q2F0ZWdvcmllcygpOwogICAgdGhpcy5vcmRlclByb2R1Y3RzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["Home2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Home2.vue","sourceRoot":"src/pages/home2","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container>\n        <v-row>\n          <v-col\n            cols=\"12\"\n            class=\"\n              usefood-flex-container\n              usefood-flex-align-center\n              usefood-flex-justify-content-center\n            \"\n          >\n            <ul>\n              <li v-for=\"(categorie, index) in categories\" :key=\"index\">\n                <v-btn\n                  class=\"ma-2\"\n                  outlined\n                  color=\"colorGray\"\n                  small\n                  @click=\"getProductsFromFilter(categorie._id)\"\n                >\n                  {{ categorie.name }}\n                </v-btn>\n              </li>\n            </ul>\n          </v-col>\n        </v-row>\n      </v-container>\n      <v-container>\n        <v-row>\n          <v-col cols=\"3\">\n            <div class=\"usefood-flex-container usefood-flex-align-end\">\n              <v-icon x-large>mdi-shopping</v-icon>\n              <span class=\"subtitle\">Produtos cadastrados</span>\n            </div>\n          </v-col>\n          <v-col cols=\"6\">\n            <v-text-field\n              v-model=\"keyword\"\n              @keyup=\"getProductsSearch()\"\n              outlined\n              label=\"Buscar na categoria\"\n              prepend-inner-icon=\"mdi-magnify\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-combobox\n              outlined\n              :items=\"orderOptions\"\n              item-value=\"Menor preço\"\n              label=\"Ordenar por\"\n              v-model=\"selectOrder\"\n              @change=\"orderProducts()\"\n            >\n            </v-combobox>\n          </v-col>\n        </v-row>\n      </v-container>\n      <div v-for=\"(product, index) in products\" :key=\"index\">\n        <CardProduct\n          :product=\"products[index]\"\n          @emit-click=\"removeProductById\"\n        />\n      </div>\n      <v-container>\n        <v-row justify=\"center\">\n          <v-col\n            cols=\"12\"\n            class=\"\n              usefood-flex-container\n              usefood-flex-align-center\n              usefood-flex-justify-content-center\n            \"\n          >\n            <v-btn\n              class=\"buttonRegister\"\n              depressed\n              color=\"primary\"\n              to=\"/register\"\n            >\n              Cadastrar Produto\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport CardProduct from \"../../components/home2/CardProduct.vue\";\nimport {\n  readProducts,\n  findProductsByName,\n  readCategories,\n  filterProductsByCategorie,\n  deleteProduct,\n} from \"../../services/api\";\n\nexport default {\n  name: \"home\",\n\n  components: {\n    /*   Empty, */\n    CardProduct,\n  },\n\n  data() {\n    return {\n      orderOptions: [\"Maior preço\", \"Menor preço\"],\n      categories: [],\n      products: [],\n      keyword: \"\",\n      selectOrder: \"Menor preço\",\n      productId: \"\",\n    };\n  },\n\n  methods: {\n    getProducts() {\n      readProducts().then((res) => {\n        this.products = res.data;\n        console.log(this.products);\n      });\n    },\n\n    getProductsSearch() {\n      findProductsByName(this.keyword).then((res) => {\n        this.products = res.data;\n        console.log(this.products);\n      });\n    },\n\n    getCategories() {\n      readCategories().then((res) => {\n        this.categories = res.data;\n      });\n    },\n\n    getProductsFromFilter(aux) {\n      filterProductsByCategorie(aux).then((res) => {\n        this.products = res.data;\n      });\n    },\n\n    orderProducts() {\n      if (this.selectOrder === \"Menor preço\") {\n        this.products.sort((a, b) => a.price - b.price);\n      } else {\n        this.products.sort((a, b) => b.price - a.price);\n      }\n\n      console.log(this.products);\n    },\n    removeProductById(id) {\n      console.log(\"funçao chamada\");\n      deleteProduct(id).then((res) => {\n        console.log(res);\n        console.log(\"Chegou aqui\");\n        this.getProducts();\n      });\n    },\n    openDialog() {\n      this.dialog = true;\n    },\n  },\n\n  mounted() {\n    this.getProducts();\n    this.getCategories();\n    this.orderProducts();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n//dialog\n.buttons-dialog {\n  margin-left: 10px;\n}\n.dialog-card {\n  padding: 20px;\n  justify-content: center;\n}\n.dialog-title {\n  font-weight: 500;\n  font-size: 20px;\n  color: #c14d19;\n}\n\n.align-center {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.buttonRegister {\n  margin-bottom: 30px;\n}\n</style>"]}]}