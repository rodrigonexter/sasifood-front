{"remainingRequest":"/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rodrigo/evolution/usefood/src/pages/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rodrigo/evolution/usefood/src/pages/home/Home.vue","mtime":1635512783992},{"path":"/home/rodrigo/evolution/usefood/node_modules/cache-loader/dist/cjs.js","mtime":1635006695449},{"path":"/home/rodrigo/evolution/usefood/node_modules/babel-loader/lib/index.js","mtime":1635006695421},{"path":"/home/rodrigo/evolution/usefood/node_modules/cache-loader/dist/cjs.js","mtime":1635006695449},{"path":"/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/index.js","mtime":1635006696213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJkUHJvZHVjdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL2hvbWUvQ2FyZFByb2R1Y3QudnVlIjsKaW1wb3J0IHsKICByZWFkUHJvZHVjdHMsCiAgZmluZFByb2R1Y3RzQnlOYW1lLAogIHJlYWRDYXRlZ29yaWVzLAogIGZpbHRlclByb2R1Y3RzQnlDYXRlZ29yaWUsCiAgZGVsZXRlUHJvZHVjdCwKfSBmcm9tICIuLi8uLi9zZXJ2aWNlcy9hcGkiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJob21lIiwKCiAgY29tcG9uZW50czogewogICAgLyogICBFbXB0eSwgKi8KICAgIENhcmRQcm9kdWN0LAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlck9wdGlvbnM6IFsiTWFpb3IgcHJlw6dvIiwgIk1lbm9yIHByZcOnbyJdLAogICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgcHJvZHVjdHM6IFtdLAogICAgICBrZXl3b3JkOiAiIiwKICAgICAgc2VsZWN0T3JkZXI6ICIiLAogICAgICBwcm9kdWN0SWQ6ICIiLAogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXRQcm9kdWN0cygpIHsKICAgICAgcmVhZFByb2R1Y3RzKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5wcm9kdWN0cyA9IHJlcy5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvZHVjdHMpOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0UHJvZHVjdHNTZWFyY2goKSB7CiAgICAgIGZpbmRQcm9kdWN0c0J5TmFtZSh0aGlzLmtleXdvcmQpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMucHJvZHVjdHMgPSByZXMuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb2R1Y3RzKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldENhdGVnb3JpZXMoKSB7CiAgICAgIHJlYWRDYXRlZ29yaWVzKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRQcm9kdWN0c0Zyb21GaWx0ZXIoYXV4KSB7CiAgICAgIGZpbHRlclByb2R1Y3RzQnlDYXRlZ29yaWUoYXV4KS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnByb2R1Y3RzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKCiAgICBvcmRlclByb2R1Y3RzKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RPcmRlciA9PT0gIk1lbm9yIHByZcOnbyIpIHsKICAgICAgICB0aGlzLnByb2R1Y3RzLnNvcnQoKGEsIGIpID0+IGEucHJpY2UgLSBiLnByaWNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByb2R1Y3RzLnNvcnQoKGEsIGIpID0+IGIucHJpY2UgLSBhLnByaWNlKTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2codGhpcy5wcm9kdWN0cyk7CiAgICB9LAogICAgcmVtb3ZlUHJvZHVjdEJ5SWQoaWQpIHsKICAgICAgY29uc29sZS5sb2coImZ1bsOnYW8gY2hhbWFkYSIpOwogICAgICBkZWxldGVQcm9kdWN0KGlkKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGNvbnNvbGUubG9nKCJDaGVnb3UgYXF1aSIpOwogICAgICAgIHRoaXMuZ2V0UHJvZHVjdHMoKTsKICAgICAgfSk7CiAgICB9LAogICAgb3BlbkRpYWxvZygpIHsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRQcm9kdWN0cygpOwogICAgdGhpcy5nZXRDYXRlZ29yaWVzKCk7CiAgICB0aGlzLm9yZGVyUHJvZHVjdHMoKTsKICB9LAp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/pages/home","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container>\n        <v-row>\n          <v-col cols=\"12\">\n            <ul class=\"d-flex justify-center\">\n              <li v-for=\"(categorie, index) in categories\" :key=\"index\">\n                <v-btn\n                  class=\"ma-2\"\n                  outlined\n                  color=\"colorGray\"\n                  small\n                  @click=\"getProductsFromFilter(categorie._id)\"\n                >\n                  {{ categorie.name }}\n                </v-btn>\n              </li>\n              <v-btn\n                class=\"ma-2\"\n                outlined\n                color=\"colorGray\"\n                small\n                @click=\"getProducts()\"\n              >\n                todos\n              </v-btn>\n              <li></li>\n            </ul>\n          </v-col>\n        </v-row>\n      </v-container>\n      <v-container>\n        <v-row>\n          <v-col cols=\"3\">\n            <div class=\"usefood-flex-container usefood-flex-align-end\">\n              <v-icon x-large>mdi-shopping</v-icon>\n              <span class=\"subtitle\">Produtos cadastrados</span>\n            </div>\n          </v-col>\n          <v-col cols=\"6\">\n            <v-text-field\n              v-model=\"keyword\"\n              @keyup=\"getProductsSearch()\"\n              outlined\n              label=\"Buscar na categoria\"\n              prepend-inner-icon=\"mdi-magnify\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-combobox\n              outlined\n              :items=\"orderOptions\"\n              item-value=\"Menor preço\"\n              label=\"Ordenar por\"\n              v-model=\"selectOrder\"\n              @change=\"orderProducts()\"\n            >\n            </v-combobox>\n          </v-col>\n        </v-row>\n      </v-container>\n      <div v-for=\"(product, index) in products\" :key=\"index\">\n        <CardProduct\n          :product=\"products[index]\"\n          @emit-click=\"removeProductById\"\n        />\n      </div>\n      <v-container>\n        <v-row justify=\"center\">\n          <v-col\n            cols=\"12\"\n            class=\"\n              usefood-flex-container\n              usefood-flex-align-center\n              usefood-flex-justify-content-center\n            \"\n          >\n            <v-btn\n              class=\"buttonRegister\"\n              depressed\n              color=\"primary\"\n              to=\"/register\"\n            >\n              Cadastrar Produto\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport CardProduct from \"../../components/home/CardProduct.vue\";\nimport {\n  readProducts,\n  findProductsByName,\n  readCategories,\n  filterProductsByCategorie,\n  deleteProduct,\n} from \"../../services/api\";\n\nexport default {\n  name: \"home\",\n\n  components: {\n    /*   Empty, */\n    CardProduct,\n  },\n\n  data() {\n    return {\n      orderOptions: [\"Maior preço\", \"Menor preço\"],\n      categories: [],\n      products: [],\n      keyword: \"\",\n      selectOrder: \"\",\n      productId: \"\",\n    };\n  },\n\n  methods: {\n    getProducts() {\n      readProducts().then((res) => {\n        this.products = res.data;\n        console.log(this.products);\n      });\n    },\n\n    getProductsSearch() {\n      findProductsByName(this.keyword).then((res) => {\n        this.products = res.data;\n        console.log(this.products);\n      });\n    },\n\n    getCategories() {\n      readCategories().then((res) => {\n        this.categories = res.data;\n      });\n    },\n\n    getProductsFromFilter(aux) {\n      filterProductsByCategorie(aux).then((res) => {\n        this.products = res.data;\n      });\n    },\n\n    orderProducts() {\n      if (this.selectOrder === \"Menor preço\") {\n        this.products.sort((a, b) => a.price - b.price);\n      } else {\n        this.products.sort((a, b) => b.price - a.price);\n      }\n\n      console.log(this.products);\n    },\n    removeProductById(id) {\n      console.log(\"funçao chamada\");\n      deleteProduct(id).then((res) => {\n        console.log(res);\n        console.log(\"Chegou aqui\");\n        this.getProducts();\n      });\n    },\n    openDialog() {\n      this.dialog = true;\n    },\n  },\n\n  mounted() {\n    this.getProducts();\n    this.getCategories();\n    this.orderProducts();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\nul {\n  li {\n    list-style-type: none;\n  }\n}\n//dialog\n.buttons-dialog {\n  margin-left: 10px;\n}\n.dialog-card {\n  padding: 20px;\n  justify-content: center;\n}\n.dialog-title {\n  font-weight: 500;\n  font-size: 20px;\n  color: #c14d19;\n}\n\n.align-center {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.buttonRegister {\n  margin-bottom: 30px;\n}\n</style>"]}]}