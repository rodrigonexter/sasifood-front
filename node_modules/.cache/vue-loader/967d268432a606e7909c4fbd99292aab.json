{"remainingRequest":"/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rodrigo/evolution/usefood/src/pages/home2/Home2.vue?vue&type=style&index=0&id=730f06e3&lang=scss&scoped=true&","dependencies":[{"path":"/home/rodrigo/evolution/usefood/src/pages/home2/Home2.vue","mtime":1635511786205},{"path":"/home/rodrigo/evolution/usefood/node_modules/css-loader/dist/cjs.js","mtime":1635006695573},{"path":"/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635006696213},{"path":"/home/rodrigo/evolution/usefood/node_modules/postcss-loader/src/index.js","mtime":1635006695897},{"path":"/home/rodrigo/evolution/usefood/node_modules/sass-loader/dist/cjs.js","mtime":1635006696097},{"path":"/home/rodrigo/evolution/usefood/node_modules/cache-loader/dist/cjs.js","mtime":1635006695449},{"path":"/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/index.js","mtime":1635006696213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgovL2RpYWxvZwouYnV0dG9ucy1kaWFsb2cgewogIG1hcmdpbi1sZWZ0OiAxMHB4Owp9Ci5kaWFsb2ctY2FyZCB7CiAgcGFkZGluZzogMjBweDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQouZGlhbG9nLXRpdGxlIHsKICBmb250LXdlaWdodDogNTAwOwogIGZvbnQtc2l6ZTogMjBweDsKICBjb2xvcjogI2MxNGQxOTsKfQoKLmFsaWduLWNlbnRlciB7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgbWFyZ2luLXJpZ2h0OiBhdXRvOwp9CgouYnV0dG9uUmVnaXN0ZXIgewogIG1hcmdpbi1ib3R0b206IDMwcHg7Cn0K"},{"version":3,"sources":["Home2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Home2.vue","sourceRoot":"src/pages/home2","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container>\n        <v-row>\n          <v-col\n            cols=\"12\"\n            class=\"\n              usefood-flex-container\n              usefood-flex-align-center\n              usefood-flex-justify-content-center\n            \"\n          >\n            <ul>\n              <li v-for=\"(categorie, index) in categories\" :key=\"index\">\n                <v-btn\n                  class=\"ma-2\"\n                  outlined\n                  color=\"colorGray\"\n                  small\n                  @click=\"getProductsFromFilter(categorie._id)\"\n                >\n                  {{ categorie.name }}\n                </v-btn>\n              </li>\n            </ul>\n          </v-col>\n        </v-row>\n      </v-container>\n      <v-container>\n        <v-row>\n          <v-col cols=\"3\">\n            <div class=\"usefood-flex-container usefood-flex-align-end\">\n              <v-icon x-large>mdi-shopping</v-icon>\n              <span class=\"subtitle\">Produtos cadastrados</span>\n            </div>\n          </v-col>\n          <v-col cols=\"6\">\n            <v-text-field\n              v-model=\"keyword\"\n              @keyup=\"getProductsSearch()\"\n              outlined\n              label=\"Buscar na categoria\"\n              prepend-inner-icon=\"mdi-magnify\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-combobox\n              outlined\n              :items=\"orderOptions\"\n              item-value=\"Menor preço\"\n              label=\"Ordenar por\"\n              v-model=\"selectOrder\"\n              @change=\"orderProducts()\"\n            >\n            </v-combobox>\n          </v-col>\n        </v-row>\n      </v-container>\n      <div v-for=\"(product, index) in products\" :key=\"index\">\n        <CardProduct\n          :product=\"products[index]\"\n          @emit-click=\"removeProductById\"\n        />\n      </div>\n      <v-container>\n        <v-row justify=\"center\">\n          <v-col\n            cols=\"12\"\n            class=\"\n              usefood-flex-container\n              usefood-flex-align-center\n              usefood-flex-justify-content-center\n            \"\n          >\n            <v-btn\n              class=\"buttonRegister\"\n              depressed\n              color=\"primary\"\n              to=\"/register\"\n            >\n              Cadastrar Produto\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport CardProduct from \"../../components/home2/CardProduct.vue\";\nimport {\n  readProducts,\n  findProductsByName,\n  readCategories,\n  filterProductsByCategorie,\n  deleteProduct,\n} from \"../../services/api\";\n\nexport default {\n  name: \"home\",\n\n  components: {\n    /*   Empty, */\n    CardProduct,\n  },\n\n  data() {\n    return {\n      orderOptions: [\"Maior preço\", \"Menor preço\"],\n      categories: [],\n      products: [],\n      keyword: \"\",\n      selectOrder: \"Menor preço\",\n      productId: \"\",\n    };\n  },\n\n  methods: {\n    getProducts() {\n      readProducts().then((res) => {\n        this.products = res.data;\n        console.log(this.products);\n      });\n    },\n\n    getProductsSearch() {\n      findProductsByName(this.keyword).then((res) => {\n        this.products = res.data;\n        console.log(this.products);\n      });\n    },\n\n    getCategories() {\n      readCategories().then((res) => {\n        this.categories = res.data;\n      });\n    },\n\n    getProductsFromFilter(aux) {\n      filterProductsByCategorie(aux).then((res) => {\n        this.products = res.data;\n      });\n    },\n\n    orderProducts() {\n      if (this.selectOrder === \"Menor preço\") {\n        this.products.sort((a, b) => a.price - b.price);\n      } else {\n        this.products.sort((a, b) => b.price - a.price);\n      }\n\n      console.log(this.products);\n    },\n    removeProductById(id) {\n      console.log(\"funçao chamada\");\n      deleteProduct(id).then((res) => {\n        console.log(res);\n        console.log(\"Chegou aqui\");\n        this.getProducts();\n      });\n    },\n    openDialog() {\n      this.dialog = true;\n    },\n  },\n\n  mounted() {\n    this.getProducts();\n    this.getCategories();\n    this.orderProducts();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n//dialog\n.buttons-dialog {\n  margin-left: 10px;\n}\n.dialog-card {\n  padding: 20px;\n  justify-content: center;\n}\n.dialog-title {\n  font-weight: 500;\n  font-size: 20px;\n  color: #c14d19;\n}\n\n.align-center {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.buttonRegister {\n  margin-bottom: 30px;\n}\n</style>"]}]}