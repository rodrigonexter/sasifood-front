{"remainingRequest":"/home/rodrigo/evolution/usefood/node_modules/babel-loader/lib/index.js!/home/rodrigo/evolution/usefood/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rodrigo/evolution/usefood/src/pages/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rodrigo/evolution/usefood/src/pages/home/Home.vue","mtime":1635512783992},{"path":"/home/rodrigo/evolution/usefood/node_modules/cache-loader/dist/cjs.js","mtime":1635006695449},{"path":"/home/rodrigo/evolution/usefood/node_modules/babel-loader/lib/index.js","mtime":1635006695421},{"path":"/home/rodrigo/evolution/usefood/node_modules/cache-loader/dist/cjs.js","mtime":1635006695449},{"path":"/home/rodrigo/evolution/usefood/node_modules/vue-loader/lib/index.js","mtime":1635006696213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDYXJkUHJvZHVjdCBmcm9tICIuLi8uLi9jb21wb25lbnRzL2hvbWUvQ2FyZFByb2R1Y3QudnVlIjsKaW1wb3J0IHsgcmVhZFByb2R1Y3RzLCBmaW5kUHJvZHVjdHNCeU5hbWUsIHJlYWRDYXRlZ29yaWVzLCBmaWx0ZXJQcm9kdWN0c0J5Q2F0ZWdvcmllLCBkZWxldGVQcm9kdWN0IH0gZnJvbSAiLi4vLi4vc2VydmljZXMvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJob21lIiwKICBjb21wb25lbnRzOiB7CiAgICAvKiAgIEVtcHR5LCAqLwogICAgQ2FyZFByb2R1Y3Q6IENhcmRQcm9kdWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3JkZXJPcHRpb25zOiBbIk1haW9yIHByZcOnbyIsICJNZW5vciBwcmXDp28iXSwKICAgICAgY2F0ZWdvcmllczogW10sCiAgICAgIHByb2R1Y3RzOiBbXSwKICAgICAga2V5d29yZDogIiIsCiAgICAgIHNlbGVjdE9yZGVyOiAiIiwKICAgICAgcHJvZHVjdElkOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByb2R1Y3RzOiBmdW5jdGlvbiBnZXRQcm9kdWN0cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJlYWRQcm9kdWN0cygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnByb2R1Y3RzID0gcmVzLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMucHJvZHVjdHMpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQcm9kdWN0c1NlYXJjaDogZnVuY3Rpb24gZ2V0UHJvZHVjdHNTZWFyY2goKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZmluZFByb2R1Y3RzQnlOYW1lKHRoaXMua2V5d29yZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLnByb2R1Y3RzID0gcmVzLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLnByb2R1Y3RzKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2F0ZWdvcmllczogZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZWFkQ2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5jYXRlZ29yaWVzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFByb2R1Y3RzRnJvbUZpbHRlcjogZnVuY3Rpb24gZ2V0UHJvZHVjdHNGcm9tRmlsdGVyKGF1eCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGZpbHRlclByb2R1Y3RzQnlDYXRlZ29yaWUoYXV4KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQucHJvZHVjdHMgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgb3JkZXJQcm9kdWN0czogZnVuY3Rpb24gb3JkZXJQcm9kdWN0cygpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0T3JkZXIgPT09ICJNZW5vciBwcmXDp28iKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS5wcmljZSAtIGIucHJpY2U7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9kdWN0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYi5wcmljZSAtIGEucHJpY2U7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvZHVjdHMpOwogICAgfSwKICAgIHJlbW92ZVByb2R1Y3RCeUlkOiBmdW5jdGlvbiByZW1vdmVQcm9kdWN0QnlJZChpZCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJmdW7Dp2FvIGNoYW1hZGEiKTsKICAgICAgZGVsZXRlUHJvZHVjdChpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBjb25zb2xlLmxvZygiQ2hlZ291IGFxdWkiKTsKCiAgICAgICAgX3RoaXM1LmdldFByb2R1Y3RzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5EaWFsb2c6IGZ1bmN0aW9uIG9wZW5EaWFsb2coKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFByb2R1Y3RzKCk7CiAgICB0aGlzLmdldENhdGVnb3JpZXMoKTsKICAgIHRoaXMub3JkZXJQcm9kdWN0cygpOwogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,OAAA,WAAA,MAAA,uCAAA;AACA,SACA,YADA,EAEA,kBAFA,EAGA,cAHA,EAIA,yBAJA,EAKA,aALA,QAMA,oBANA;AAQA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAGA,EAAA,UAAA,EAAA;AACA;AACA,IAAA,WAAA,EAAA;AAFA,GAHA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,CAAA,aAAA,EAAA,aAAA,CADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA;AANA,KAAA;AAQA,GAjBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,MAAA,YAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAHA;AAIA,KANA;AAQA,IAAA,iBARA,+BAQA;AAAA;;AACA,MAAA,kBAAA,CAAA,KAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,QAAA;AACA,OAHA;AAIA,KAbA;AAeA,IAAA,aAfA,2BAeA;AAAA;;AACA,MAAA,cAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAFA;AAGA,KAnBA;AAqBA,IAAA,qBArBA,iCAqBA,GArBA,EAqBA;AAAA;;AACA,MAAA,yBAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAFA;AAGA,KAzBA;AA2BA,IAAA,aA3BA,2BA2BA;AACA,UAAA,KAAA,WAAA,KAAA,aAAA,EAAA;AACA,aAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,GAAA,CAAA,CAAA,KAAA;AAAA,SAAA;AACA,OAFA,MAEA;AACA,aAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,GAAA,CAAA,CAAA,KAAA;AAAA,SAAA;AACA;;AAEA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,QAAA;AACA,KAnCA;AAoCA,IAAA,iBApCA,6BAoCA,EApCA,EAoCA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,MAAA,aAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,aAAA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OAJA;AAKA,KA3CA;AA4CA,IAAA,UA5CA,wBA4CA;AACA,WAAA,MAAA,GAAA,IAAA;AACA;AA9CA,GAnBA;AAoEA,EAAA,OApEA,qBAoEA;AACA,SAAA,WAAA;AACA,SAAA,aAAA;AACA,SAAA,aAAA;AACA;AAxEA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container>\n        <v-row>\n          <v-col cols=\"12\">\n            <ul class=\"d-flex justify-center\">\n              <li v-for=\"(categorie, index) in categories\" :key=\"index\">\n                <v-btn\n                  class=\"ma-2\"\n                  outlined\n                  color=\"colorGray\"\n                  small\n                  @click=\"getProductsFromFilter(categorie._id)\"\n                >\n                  {{ categorie.name }}\n                </v-btn>\n              </li>\n              <v-btn\n                class=\"ma-2\"\n                outlined\n                color=\"colorGray\"\n                small\n                @click=\"getProducts()\"\n              >\n                todos\n              </v-btn>\n              <li></li>\n            </ul>\n          </v-col>\n        </v-row>\n      </v-container>\n      <v-container>\n        <v-row>\n          <v-col cols=\"3\">\n            <div class=\"usefood-flex-container usefood-flex-align-end\">\n              <v-icon x-large>mdi-shopping</v-icon>\n              <span class=\"subtitle\">Produtos cadastrados</span>\n            </div>\n          </v-col>\n          <v-col cols=\"6\">\n            <v-text-field\n              v-model=\"keyword\"\n              @keyup=\"getProductsSearch()\"\n              outlined\n              label=\"Buscar na categoria\"\n              prepend-inner-icon=\"mdi-magnify\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-combobox\n              outlined\n              :items=\"orderOptions\"\n              item-value=\"Menor preço\"\n              label=\"Ordenar por\"\n              v-model=\"selectOrder\"\n              @change=\"orderProducts()\"\n            >\n            </v-combobox>\n          </v-col>\n        </v-row>\n      </v-container>\n      <div v-for=\"(product, index) in products\" :key=\"index\">\n        <CardProduct\n          :product=\"products[index]\"\n          @emit-click=\"removeProductById\"\n        />\n      </div>\n      <v-container>\n        <v-row justify=\"center\">\n          <v-col\n            cols=\"12\"\n            class=\"\n              usefood-flex-container\n              usefood-flex-align-center\n              usefood-flex-justify-content-center\n            \"\n          >\n            <v-btn\n              class=\"buttonRegister\"\n              depressed\n              color=\"primary\"\n              to=\"/register\"\n            >\n              Cadastrar Produto\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport CardProduct from \"../../components/home/CardProduct.vue\";\nimport {\n  readProducts,\n  findProductsByName,\n  readCategories,\n  filterProductsByCategorie,\n  deleteProduct,\n} from \"../../services/api\";\n\nexport default {\n  name: \"home\",\n\n  components: {\n    /*   Empty, */\n    CardProduct,\n  },\n\n  data() {\n    return {\n      orderOptions: [\"Maior preço\", \"Menor preço\"],\n      categories: [],\n      products: [],\n      keyword: \"\",\n      selectOrder: \"\",\n      productId: \"\",\n    };\n  },\n\n  methods: {\n    getProducts() {\n      readProducts().then((res) => {\n        this.products = res.data;\n        console.log(this.products);\n      });\n    },\n\n    getProductsSearch() {\n      findProductsByName(this.keyword).then((res) => {\n        this.products = res.data;\n        console.log(this.products);\n      });\n    },\n\n    getCategories() {\n      readCategories().then((res) => {\n        this.categories = res.data;\n      });\n    },\n\n    getProductsFromFilter(aux) {\n      filterProductsByCategorie(aux).then((res) => {\n        this.products = res.data;\n      });\n    },\n\n    orderProducts() {\n      if (this.selectOrder === \"Menor preço\") {\n        this.products.sort((a, b) => a.price - b.price);\n      } else {\n        this.products.sort((a, b) => b.price - a.price);\n      }\n\n      console.log(this.products);\n    },\n    removeProductById(id) {\n      console.log(\"funçao chamada\");\n      deleteProduct(id).then((res) => {\n        console.log(res);\n        console.log(\"Chegou aqui\");\n        this.getProducts();\n      });\n    },\n    openDialog() {\n      this.dialog = true;\n    },\n  },\n\n  mounted() {\n    this.getProducts();\n    this.getCategories();\n    this.orderProducts();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\nul {\n  li {\n    list-style-type: none;\n  }\n}\n//dialog\n.buttons-dialog {\n  margin-left: 10px;\n}\n.dialog-card {\n  padding: 20px;\n  justify-content: center;\n}\n.dialog-title {\n  font-weight: 500;\n  font-size: 20px;\n  color: #c14d19;\n}\n\n.align-center {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.buttonRegister {\n  margin-bottom: 30px;\n}\n</style>"],"sourceRoot":"src/pages/home"}]}